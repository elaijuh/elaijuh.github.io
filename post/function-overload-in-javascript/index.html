
<!DOCTYPE html>
<html lang="en-us">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="" name="keywords">
<meta content="Function overload in JavaScript - moo..." property="og:title">
<title>Function overload in JavaScript | moo...</title>
<link rel="stylesheet" href="http://blog.hujiale.me//css/style.css">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css">


<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="http://blog.hujiale.me/"><h1 class="title is-4">moo...</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="https://github.com/elaijuh">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://twitter.com/hjiale">
            <span class="icon">
              <i class="fa fa-twitter"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://www.linkedin.com/in/jiale-hu-22106632/">
            <span class="icon">
              <i class="fa fa-linkedin"></i>
            </span>
          </a>
          
          <a class="level-item" href="/index.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="subtitle is-6">December 4, 2014</h2>
    <h1 class="title">Function overload in JavaScript</h1>
    
      <div class="tags">
    
        <a class="button is-link" href="/tags/javascript">javascript</a>
    
</div>

    
    <div class="content">
      <p>As we know, Javscript has no function overload in nature. If you try to declare the same function with different signature, the previous one will be overwritten rather than overloaded. As function overload in most OO programming languages are by means of parameters, it operates on different logic according to the passed in parameters. So there is still a way to do function overload in JS.</p>

<p><span class="more"></span></p>

<pre><code class="language-javascript">var foo = {
    bar: function () {
        switch (arguments.length) {
            case 0:
                console.log(0);
                break;
            case 1:
                console.log(arguments[0]);
                break;
            case 2:
                console.log(arguments[0] + arguments[1]);
                break;
        }
    }
}

foo.bar(); // 0
foo.bar(1); // 1
foo.bar(1, 2); // 3
</code></pre>

<p>This approach is workable but not tidy and flexiable. With more and more overloads, the switch block becomes longer and longer scaring away developers.</p>

<p>With <code>function.length</code> and <code>closure</code>, we could implement the same in a neat and ninja way.</p>

<pre><code class="language-javascript">var foo = {
    overloadMethod: function (name, fn) {
        var baseFn = this[name];
        this[name] = function () {
            if (fn.length === arguments.length) {
                return fn.apply(this, arguments);
            } else if (typeof baseFn === 'function') {
                return baseFn.apply(this, arguments); // baseFn is in a closure
            }
        };
    }
};

foo.overloadMethod('bar', function() {
    console.log(0);
})
foo.overloadMethod('bar', function(x) {
    console.log(x);
})
foo.overloadMethod('bar', function(x, y) {
    console.log(x + y);
})


foo.bar(); // 0
foo.bar(1); // 1
foo.bar(1, 2); // 3
</code></pre>

<p>So everytime you want to overload the method, just call <code>foo.overloadMethod</code> with the method name and anonymous function passed in. It looks like <code>foo.bar</code> is overwritten again and again, but actually every single version of <code>foo.bar</code> is completely kept in closure to be referenced.</p>

<hr />

<p>Reference book: <a href="http://www.amazon.com/Secrets-JavaScript-Ninja-John-Resig/dp/193398869X/ref=sr_1_1?ie=UTF8&amp;qid=1417626477&amp;sr=8-1&amp;keywords=secrets+of+javascript+ninja">Secrets of the JavaScript Ninja</a>, <a href="http://ejohn.org/">John Resig</a></p>

    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
    <script type="text/javascript">
      var disqus_shortname = 'hujiale';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p></p>
  </div>
</section>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/typescript.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/go.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/dockerfile.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/yaml.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-57201547-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>



